<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <title th:text="${product.pdId == null} ? 'New Product' : 'Edit Product'"></title>
</head>
<body>
<h1 th:text="${product.pdId == null} ? 'Create New Product' : 'Edit Product'"></h1>
<form th:action="@{${product.pdId == null} ? '/products' : '/products'}" th:object="${product}" method="post">
  <label>Name: <input type="text" th:field="*{pdName}" required/></label><br/>
  <label>Price: <input type="number" step="0.01" th:field="*{pdPrice}" required/></label><br/>
  <label>Quantity: <input type="number" th:field="*{pdQuantity}" required/></label><br/>
  <label>Info: <textarea th:field="*{pdInfo}" required></textarea></label><br/>
  <label>Category:
    <select th:field="*{category}" required>
      <option th:each="cat : ${categories}" th:value="${cat}" th:text="${cat.name}"></option>
    </select>
  </label><br/>
  <div th:if="${error}" style="color:red"><p th:text="${error}"></p></div>
  <button type="submit">Save</button>
  <a href="/products">Cancel</a>
</form>
</body>
</html>
